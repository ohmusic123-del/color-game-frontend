<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>BIGWIN | Wallet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="css/style.css" />
</head>
<body>

  <!-- HEADER -->
  <div class="header">
    <h2>Wallet</h2>
    <button class="back-btn" onclick="goBack()">← Back</button>
  </div>

  <!-- WALLET CARD -->
  <div class="container">

    <div class="wallet-card">
      <p>Available Balance</p>
      <h1>₹<span id="walletBalance">0</span></h1>
    </div>

    <!-- ACTIONS -->
    <div class="wallet-actions">
      <button class="action-btn deposit" onclick="goDeposit()">Deposit</button>
      <button class="action-btn withdraw" onclick="withdraw()">Withdraw</button>
    </div>

    <!-- INFO -->
    <div class="wallet-info">
      <p>✔ Minimum deposit: ₹100</p>
      <p>✔ Minimum withdraw: ₹100</p>
      <p>✔ Withdraw only after wagering</p>
    </div>

  </div>

  <!-- JS -->
  <script src="js/api.js"></script>
  <script src="js/wallet.js"></script>

  <script>
    function goBack() {
      window.location.href = "home.html";
    }

    function goDeposit() {
      window.location.href = "deposit.html";
    }

    function withdraw() {
      const amount = prompt("Enter withdraw amount (min ₹100):");
      if (!amount) return;

      fetch(API + "/withdraw", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": localStorage.getItem("token")
        },
        body: JSON.stringify({ amount: Number(amount) })
      })
      .then(res => res.json())
      .then(data => {
        alert(data.message || data.error);
        loadWallet();
      });
    }
  </script>

</body>
</html>
